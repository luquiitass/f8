(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"3nJb":function(t,e,n){"use strict";n.r(e),n.d(e,"ResultsPageModule",(function(){return v}));var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),a=n("mrSG"),c=n("8xVP"),b=n("fXoL"),l=n("G/jy"),d=n("2Rin"),u=n("6Rhz");function g(t,e){if(1&t&&(b.Pb(0,"ion-segment-button",9),b.sc(1),b.Ob()),2&t){const t=e.$implicit,n=e.index,i=b.Zb(2);b.fc("value",n),b.gc("id","sgm_r_",n,""),b.xb(1),b.uc(" ",i.formatDate(t.date)," ")}}function f(t,e){1&t&&(b.Pb(0,"ion-list-header",10),b.Pb(1,"ion-label"),b.sc(2,"Sin registros"),b.Ob(),b.Ob())}function h(t,e){if(1&t&&b.Lb(0,"app-result-item",11),2&t){const t=e.$implicit;b.gc("routerLink","/results/profile/",t.id,""),b.ec("game",t)}}function m(t,e){if(1&t){const t=b.Qb();b.Pb(0,"div"),b.Pb(1,"ion-refresher",2),b.Xb("ionRefresh",(function(e){return b.mc(t),b.Zb().init(e)})),b.Lb(2,"ion-refresher-content",3),b.Ob(),b.Pb(3,"ion-list"),b.Pb(4,"ion-grid"),b.Pb(5,"ion-row"),b.Pb(6,"ion-col",4),b.Pb(7,"ion-segment",5),b.Xb("ngModelChange",(function(e){return b.mc(t),b.Zb().tabSelected=e}))("ionChange",(function(e){return b.mc(t),b.Zb().selectDate(e)})),b.rc(8,g,2,3,"ion-segment-button",6),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.rc(9,f,3,0,"ion-list-header",7),b.rc(10,h,1,2,"app-result-item",8),b.Ob(),b.Ob()}if(2&t){const t=b.Zb();b.xb(7),b.ec("ngModel",t.tabSelected),b.xb(1),b.ec("ngForOf",t.tabs),b.xb(1),b.ec("ngIf",0==t.list.length),b.xb(1),b.ec("ngForOf",t.list)}}function p(t,e){1&t&&(b.Pb(0,"ion-card"),b.Pb(1,"div",14),b.Lb(2,"ion-skeleton-text",12),b.Lb(3,"ion-skeleton-text",15),b.Ob(),b.Ob())}function O(t,e){if(1&t&&(b.Pb(0,"div"),b.Pb(1,"ion-grid"),b.Pb(2,"ion-row"),b.Pb(3,"ion-col"),b.Lb(4,"ion-skeleton-text",12),b.Ob(),b.Pb(5,"ion-col"),b.Lb(6,"ion-skeleton-text",12),b.Ob(),b.Pb(7,"ion-col"),b.Lb(8,"ion-skeleton-text",12),b.Ob(),b.Ob(),b.Ob(),b.rc(9,p,4,0,"ion-card",13),b.Ob()),2&t){const t=b.Zb();b.xb(9),b.ec("ngForOf",t.listSkeleton)}}const P=[{path:"",component:(()=>{class t{constructor(t,e){this.request=t,this.util=e,this.list=[],this.tabs=[],this.listSkeleton=new Array(3),this.firstLoad=!0,this.modelGame=new c.a("Game",t)}ngOnInit(){this.init()}init(t=null){return Object(a.a)(this,void 0,void 0,(function*(){this.modelGame.api_function("pageHomeResults").subscribe(e=>{"success"==e.status&&(this.tabs=e.data.dates,this.selectLast()),t&&t.target.complete(),console.log(e),this.firstLoad=!1},e=>{t&&t.target.complete(),console.error(e),this.firstLoad=!1})}))}selectLast(){return Object(a.a)(this,void 0,void 0,(function*(){if(this.tabs.length>0){let t=this.tabs.slice(-1)[0];this.list=t.results,this.tabSelected=this.tabs.length-1,yield this.delay(1500),this.focusSegment()}}))}selectDate(t){let e=parseInt(t.detail.value),n=this.tabs[e];if(n.results)return this.list=n.results,void this.focusSegment();this.modelGame.api_function("resultsByDate",{date:n.date}).subscribe(t=>{"success"==t.status&&(this.tabs[e].results=t.data,this.list=this.tabs[e].results,this.focusSegment()),console.log(t)},t=>{console.error(t)})}focusSegment(){let t="sgm_r_"+this.tabSelected;console.log("select segment : ",t),document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}delay(t){return new Promise(e=>setTimeout(e,t))}formatDate(t){return this.util.setFormatMoment(t,"DD MMMM YYYY")}}return t.\u0275fac=function(e){return new(e||t)(b.Kb(l.a),b.Kb(d.a))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-results"]],decls:9,vars:2,consts:[["slot","start"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],["refreshingText","Cargando..."],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],["routerDirection","forward",3,"game","routerLink",4,"ngFor","ngForOf"],[3,"value","id"],["color","tertiary"],["routerDirection","forward",3,"game","routerLink"],["animated","",2,"width","100%","height","30px"],[4,"ngFor","ngForOf"],[1,"ion-padding","custom-skeleton"],["animated","",2,"width","100%","height","30px","margin-top","15px"]],template:function(t,e){1&t&&(b.Pb(0,"ion-header"),b.Pb(1,"ion-toolbar"),b.Pb(2,"ion-buttons",0),b.Lb(3,"ion-menu-button"),b.Ob(),b.Pb(4,"ion-title"),b.sc(5,"Resultados"),b.Ob(),b.Ob(),b.Ob(),b.Pb(6,"ion-content"),b.rc(7,m,11,4,"div",1),b.rc(8,O,10,1,"div",1),b.Ob()),2&t&&(b.xb(7),b.ec("ngIf",!e.firstLoad),b.xb(1),b.ec("ngIf",e.firstLoad))},directives:[s.x,s.db,s.j,s.H,s.bb,s.r,i.k,s.J,s.K,s.E,s.w,s.M,s.q,s.O,s.nb,o.d,o.g,i.j,s.P,s.F,s.D,u.a,s.mb,r.h,s.S,s.k],styles:[".game[_ngcontent-%COMP%]{color:#fff;width:100%;padding:10px;border-radius:5px;box-shadow:inset 0 -3em 3em rgba(0,0,0,.1),0 0 0 2px #fff,.3em .3em 1em rgba(0,0,0,.3)}.team[_ngcontent-%COMP%]{position:relative;background-image:url(img_fondo_res4.7a1ad4da4803a568a1d2.png);background-repeat:no-repeat;background-size:cover;width:100%;padding:15px 10px 10px}.name-team[_ngcontent-%COMP%]{width:70%}.goals-team[_ngcontent-%COMP%], .name-team[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.goals-team[_ngcontent-%COMP%]{width:30%;text-align:right;padding-right:20px}.comment[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:none}"]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(P)],r.j]}),t})();var w=n("j1ZV");let v=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(e){return new(e||t)},imports:[[i.b,o.a,s.eb,x,w.a]]}),t})()}}]);