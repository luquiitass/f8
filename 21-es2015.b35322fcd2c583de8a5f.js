(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"7i0p":function(e,t,n){"use strict";n.r(t),n.d(t,"ListPageModule",(function(){return w}));var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),c=n("tyNb"),r=n("mrSG"),a=n("PEpV"),b=n("8xVP"),l=n("wd/R"),d=n("fXoL"),u=n("G/jy"),m=n("vuFD"),g=n("2Rin");function h(e,t){if(1&e&&(d.Nb(0,"ion-segment-button",11),d.rc(1),d.Mb()),2&e){const e=t.$implicit,n=t.index;d.dc("value",n),d.ec("id","sgm_",n,""),d.xb(1),d.tc(" ",e.date," ")}}function f(e,t){1&e&&(d.Nb(0,"ion-list-header",12),d.Nb(1,"ion-label"),d.rc(2,"Sin registros"),d.Mb(),d.Mb())}const M=function(){return["/admin/game/{item.id}"]};function p(e,t){if(1&e){const e=d.Ob();d.Nb(0,"ion-item"),d.Nb(1,"ion-grid"),d.Nb(2,"ion-row"),d.Nb(3,"ion-col",13),d.Nb(4,"ion-grid"),d.Nb(5,"ion-row"),d.Nb(6,"ion-col",14),d.rc(7),d.Mb(),d.Nb(8,"ion-col",15),d.rc(9,"0"),d.Mb(),d.Mb(),d.Nb(10,"ion-row"),d.Nb(11,"ion-col"),d.rc(12," Vs "),d.Mb(),d.Mb(),d.Nb(13,"ion-row"),d.Nb(14,"ion-col",14),d.rc(15),d.Mb(),d.Nb(16,"ion-col",15),d.rc(17,"0"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(18,"ion-col",16),d.Nb(19,"ion-grid"),d.Nb(20,"ion-row"),d.Nb(21,"ion-col",17),d.Nb(22,"a",18),d.Jb(23,"ion-icon",19),d.Mb(),d.Mb(),d.Nb(24,"ion-col",17),d.Nb(25,"ion-button",3),d.Vb("click",(function(){d.lc(e);const n=t.$implicit;return d.Xb().showEdit(n)})),d.Jb(26,"ion-icon",20),d.Mb(),d.Mb(),d.Nb(27,"ion-col",17),d.Nb(28,"ion-button",3),d.Vb("click",(function(){d.lc(e);const n=t.$implicit;return d.Xb().confirmDelete(n)})),d.Jb(29,"ion-icon",21),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb()}if(2&e){const e=t.$implicit;d.xb(7),d.tc(" ",e.team_l.name," "),d.xb(8),d.tc(" ",e.team_v.name," "),d.xb(7),d.cc("routerLink",d.fc(3,M))}}const N=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.request=e,this.dialogService=t,this.modalController=n,this.dialog=i,this.util=o,this.games=[],this.tabs=[],this.gameService=new b.a("Game",e)}ngOnInit(){this.init()}init(e=null){this.gameService.api_function("pageAdminAll").subscribe(t=>{this.tabs=t.data.dates,this.selectTab(),console.log(t),e&&e.target.complete()},t=>{e&&e.target.completed()})}openModal(){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:a.a,componentProps:{date:this.tabs&&this.tabs[this.tabSelected]?this.tabs[this.tabSelected].date:""}});return e.onDidDismiss().then(e=>{this.gameService.listAddLast(e.data.game)}),yield e.present()}))}showEdit(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:a.a,componentProps:{id:e.id}});return t.onDidDismiss().then(e=>{const t=e.data.game;this.gameService.listUpdate(t.id,t)}),yield t.present()}))}confirmDelete(e){this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este game",t=>{this.delete(e)})}delete(e){this.gameService.api_delete(e.id).subscribe(t=>{console.log(t),"success"==t.status&&(this.dialog.showToast("Game Eliminado",null,"success"),this.gameService.listDelete(e.id))})}showItem(e){console.log(e)}selectDate(e){let t=parseInt(e.detail.value),n=this.tabs[t];if(n.results)return this.games=n.results,void this.focusSegment();this.gameService.api_function("adminByDate",{date:n.date}).subscribe(e=>{"success"==e.status&&(this.tabs[t].results=e.data,this.games=this.tabs[t].results,this.focusSegment()),console.log(e)},e=>{console.error(e)})}focusSegment(){let e="sgm_"+this.tabSelected;console.log("select segment : ",e),document.getElementById(e).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}delay(e){return new Promise(t=>setTimeout(t,e))}selectTab(){return Object(r.a)(this,void 0,void 0,(function*(){if(this.tabs.length>0){let e=l(),t=0;this.tabs.forEach((n,i)=>{l(n.date).isAfter(e)&&0==t&&(t=i)}),this.selectDate({detail:{value:t}}),this.tabSelected=t,yield this.util.delay(1500),this.focusSegment()}}))}}return e.\u0275fac=function(t){return new(t||e)(d.Ib(u.a),d.Ib(m.a),d.Ib(s.V),d.Ib(m.a),d.Ib(g.a))},e.\u0275cmp=d.Cb({type:e,selectors:[["app-list"]],decls:20,vars:4,consts:[["slot","start"],["defaultHref","admin_home"],["slot","secondary"],[3,"click"],["name","add-outline"],["slot","fixed",3,"ionRefresh"],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value","id"],["color","tertiary"],["size","10"],["size","11"],["size","1"],["size","2"],["size-sm","4","size-xs","12"],[3,"routerLink"],["name","enter -outline"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(e,t){1&e&&(d.Nb(0,"ion-header"),d.Nb(1,"ion-toolbar"),d.Nb(2,"ion-buttons",0),d.Jb(3,"ion-back-button",1),d.Mb(),d.Nb(4,"ion-title"),d.rc(5,"Partidos"),d.Mb(),d.Nb(6,"ion-buttons",2),d.Nb(7,"ion-button",3),d.Vb("click",(function(){return t.openModal()})),d.Jb(8,"ion-icon",4),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(9,"ion-content"),d.Nb(10,"ion-refresher",5),d.Vb("ionRefresh",(function(e){return t.init(e)})),d.Jb(11,"ion-refresher-content"),d.Mb(),d.Nb(12,"ion-list"),d.Nb(13,"ion-grid"),d.Nb(14,"ion-row"),d.Nb(15,"ion-col",6),d.Nb(16,"ion-segment",7),d.Vb("ngModelChange",(function(e){return t.tabSelected=e}))("ionChange",(function(e){return t.selectDate(e)})),d.qc(17,h,2,3,"ion-segment-button",8),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.qc(18,f,3,0,"ion-list-header",9),d.qc(19,p,30,4,"ion-item",10),d.Mb(),d.Mb()),2&e&&(d.xb(16),d.cc("ngModel",t.tabSelected),d.xb(1),d.cc("ngForOf",t.tabs),d.xb(1),d.cc("ngIf",0==t.games.length),d.xb(1),d.cc("ngForOf",t.games))},directives:[s.r,s.R,s.f,s.c,s.d,s.Q,s.e,s.s,s.m,s.C,s.D,s.x,s.q,s.F,s.l,s.H,s.bb,o.d,o.g,i.j,i.k,s.I,s.y,s.w,s.v,c.i,s.ab],styles:[".status[_ngcontent-%COMP%], .team[_ngcontent-%COMP%]{width:100%}.team[_ngcontent-%COMP%]{display:inline}.goal-team[_ngcontent-%COMP%], .name-team[_ngcontent-%COMP%]{background-color:transparent}.names[_ngcontent-%COMP%]{width:80%}"]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=d.Gb({type:e}),e.\u0275inj=d.Fb({factory:function(t){return new(t||e)},imports:[[c.j.forChild(N)],c.j]}),e})(),w=(()=>{class e{}return e.\u0275mod=d.Gb({type:e}),e.\u0275inj=d.Fb({factory:function(t){return new(t||e)},imports:[[i.b,o.a,s.S,v]]}),e})()}}]);