!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{yZGV:function(t,n,o){"use strict";o.r(n),o.d(n,"ProfilePageModule",(function(){return P}));var a=o("ofXK"),r=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),l=o("mrSG"),b=o("8xVP"),u=o("Alqj"),d=o("fXoL"),f=o("G/jy");function p(e,t){1&e&&(d.Nb(0,"div"),d.Nb(1,"div"),d.rc(2,"Notificaciones activas !!!"),d.Mb(),d.Nb(3,"div"),d.rc(4,"Recibiras Notificaciones de las diferentes noticias de este equipo."),d.Mb(),d.Mb())}function m(e,t){1&e&&(d.Nb(0,"div"),d.Nb(1,"div"),d.rc(2,"Activa las "),d.Nb(3,"b"),d.rc(4,"Notificaciones"),d.Mb(),d.rc(5," para recibir todas las noticias de este equipo."),d.Mb(),d.Mb())}var v,h=function(e){return{favorite:e}},g=((v=function(){function t(i){e(this,t),this.requesService=i,this.favoriteModel=new b.a("Favorite",i)}return i(t,[{key:"ngOnInit",value:function(){}},{key:"toggleFavorite",value:function(){var e=this;this.object&&(this.isFavorite()?this.favoriteModel.api_delete(this.object.favorite.id).subscribe((function(t){e.object.favorite=null,console.log(t)}),(function(e){console.error(e)})):this.favoriteModel.api_function("addFavorite",{table_id:this.table_id,table_name:this.table_name}).subscribe((function(t){"success"==t.status&&(e.object.favorite=t.data)}),(function(e){console.error(e)})))}},{key:"isFavorite",value:function(){return!(!this.object||!this.object.favorite)}},{key:"getNameIcon",value:function(){return this.isFavorite()?"notifications-off-outline":"notifications-outline"}}]),t}()).\u0275fac=function(e){return new(e||v)(d.Ib(f.a))},v.\u0275cmp=d.Cb({type:v,selectors:[["app-notificatio-selected"]],inputs:{object:"object",table_name:"table_name",table_id:"table_id"},decls:9,vars:6,consts:[["size","10"],[4,"ngIf"],["size","2"],[3,"click"],[3,"name","ngClass"]],template:function(e,t){1&e&&(d.Nb(0,"ion-card"),d.Nb(1,"ion-grid"),d.Nb(2,"ion-row"),d.Nb(3,"ion-col",0),d.qc(4,p,5,0,"div",1),d.qc(5,m,6,0,"div",1),d.Mb(),d.Nb(6,"ion-col",2),d.Nb(7,"ion-button",3),d.Vb("click",(function(){return t.toggleFavorite()})),d.Jb(8,"ion-icon",4),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb()),2&e&&(d.xb(4),d.cc("ngIf",t.isFavorite()),d.xb(1),d.cc("ngIf",!t.isFavorite()),d.xb(3),d.cc("name",t.getNameIcon())("ngClass",d.gc(4,h,t.isFavorite())))},directives:[s.g,s.q,s.F,s.l,a.k,s.e,s.s,a.i],styles:[""]}),v),y=o("pa2R"),M=o("dXyq"),N=o("OXCg");function k(e,t){if(1&e){var i=d.Ob();d.Nb(0,"ion-content"),d.Nb(1,"div"),d.Nb(2,"div"),d.Jb(3,"img",5),d.Mb(),d.Nb(4,"div",6),d.Jb(5,"img",7),d.Nb(6,"span",8),d.rc(7),d.Mb(),d.Mb(),d.Mb(),d.Jb(8,"app-notificatio-selected",9),d.Nb(9,"ion-card"),d.Nb(10,"ion-card-header"),d.Nb(11,"ion-card-title"),d.rc(12," Jugadores "),d.Mb(),d.Mb(),d.Nb(13,"ion-card-content"),d.Nb(14,"app-player-list",10),d.Vb("eventLoad",(function(e){return d.lc(i),d.Xb().loadPlayers(e)}))("eventSelect",(function(e){return d.lc(i),d.Xb().playerSelect(e)})),d.Mb(),d.Mb(),d.Mb(),d.Jb(15,"app-red-list",11),d.Jb(16,"app-comments",12),d.Mb()}if(2&e){var n=d.Xb();d.xb(3),d.cc("src",n.getCover(),d.mc),d.xb(2),d.cc("src",n.getShield(),d.mc),d.xb(2),d.sc(n.team.name),d.xb(1),d.cc("object",n.team)("table_name","Team")("table_id",n.id),d.xb(6),d.cc("items",n.playersList)("loading",n.playersLoading)("errorLoad",n.playersErrorLoad),d.xb(1),d.cc("nameModel","Team")("idModel",n.id)("isAdmin",!1),d.xb(1),d.cc("comments",n.team.comments)("idRelation",n.id)("nameRelationModel","Team")}}var w,_,L,x=[{path:"",component:(w=function(){function t(i,n,o,a){e(this,t),this.route=i,this.requesService=n,this.modalController=o,this.navCtrl=a,this.id="0",this.team=null,this.playersList=[],this.playersLoading=!0,this.playersErrorLoad=!1,this.id=this.route.snapshot.paramMap.get("id"),this.teamModel=new b.a("Team",n)}return i(t,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.playersLoading=!0,this.teamModel.api_functionModel(this.id,"pageProfile").subscribe((function(t){console.log(t),"success"==t.status&&(e.team=t.data,e.playersList=e.team.players),e.playersLoading=!1}),(function(t){e.playersLoading=!1,e.playersErrorLoad=!1,console.error(t)}))}},{key:"getCover",value:function(){return this.team.cover_page?this.team.cover_page.urlComplete:"assets/images/cover.jpg"}},{key:"getShield",value:function(){return this.team.shield?this.team.shield.urlComplete:"assets/images/shield_team.png"}},{key:"showMenu",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{name:"Editar Equipo",route:""},{name:"Admi. Jugadores",route:"team/".concat(this.id,"/players")},{name:"Admi. Partidos",rote:""}],e.next=3,this.modalController.create({component:u.a,componentProps:{title:"Administrar",list:t}});case 3:return(i=e.sent).onDidDismiss().then((function(e){console.log(e)})),e.next=7,i.present();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"setLog",value:function(e){console.log("set log in page profile, num : ",e)}},{key:"loadPlayers",value:function(e){var t=this;this.playersLoading=!0,this.teamModel.api_loadAttribute(this.id,"players").subscribe((function(e){"success"==e.status&&(t.playersList=e.Team.players),t.playersLoading=!1}),(function(e){t.playersLoading=!1,t.playersErrorLoad=!0}))}},{key:"playerSelect",value:function(e){console.log("goTo",e),this.navCtrl.navigateForward("player/profile/"+e.id)}}]),t}(),w.\u0275fac=function(e){return new(e||w)(d.Ib(c.a),d.Ib(f.a),d.Ib(s.V),d.Ib(s.W))},w.\u0275cmp=d.Cb({type:w,selectors:[["app-profile"]],decls:10,vars:1,consts:[["slot","start"],["slot","secondary"],[3,"click"],["name","create"],[4,"ngIf"],["alt","Portada",1,"cover",3,"src"],[1,"shield-team"],["alt","Escudo",1,"shield",3,"src"],[1,"name-team"],[3,"object","table_name","table_id"],[3,"items","loading","errorLoad","eventLoad","eventSelect"],[3,"nameModel","idModel","isAdmin"],[3,"comments","idRelation","nameRelationModel"]],template:function(e,t){1&e&&(d.Nb(0,"ion-header"),d.Nb(1,"ion-toolbar"),d.Nb(2,"ion-title"),d.rc(3,"Equipo "),d.Mb(),d.Nb(4,"ion-buttons",0),d.Jb(5,"ion-back-button"),d.Mb(),d.Nb(6,"ion-buttons",1),d.Nb(7,"ion-button",2),d.Vb("click",(function(){return t.showMenu()})),d.Jb(8,"ion-icon",3),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.qc(9,k,17,15,"ion-content",4)),2&e&&(d.xb(9),d.cc("ngIf",t.team))},directives:[s.r,s.R,s.Q,s.f,s.c,s.d,s.e,s.s,a.k,s.m,g,s.g,s.i,s.k,s.h,y.a,M.a,N.a],styles:[".cover[_ngcontent-%COMP%]{width:100%}.shield-team[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding:5px}.shield[_ngcontent-%COMP%]{width:50px;height:50px}.name-team[_ngcontent-%COMP%]{display:inline;margin-left:10px}"]}),w)}],j=((_=function t(){e(this,t)}).\u0275mod=d.Gb({type:_}),_.\u0275inj=d.Fb({factory:function(e){return new(e||_)},imports:[[c.j.forChild(x)],c.j]}),_),C=o("j1ZV"),P=((L=function t(){e(this,t)}).\u0275mod=d.Gb({type:L}),L.\u0275inj=d.Fb({factory:function(e){return new(e||L)},imports:[[a.b,r.a,s.S,j,C.a]]}),L)}}])}();